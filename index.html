<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DEVOPS MATURITY QUICK ASSESSMET</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;800&display=swap');
        
        body { font-family: 'Inter', sans-serif; }

        /* Web UI Components */
        .option-card { 
            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
            border: 2px solid #e2e8f0;
            cursor: pointer;
        }
        .option-card:hover:not(.selected) { border-color: #cbd5e1; background-color: #f8fafc; }
        .option-card.selected { 
            border-color: #2563eb; 
            background-color: #f0f7ff;
            box-shadow: 0 4px 12px -2px rgba(37, 99, 235, 0.15);
        }

        /* Chart Containers */
        .radar-box { position: relative; width: 100%; height: 350px; }
        .radar-box-large { position: relative; width: 100%; height: 450px; }

        /* --- PDF / Print Logic --- */
        @media print {
            .no-print { display: none !important; }
            body { background: white !important; margin: 0; padding: 0; -webkit-print-color-adjust: exact; print-color-adjust: exact; }
            #app-content { max-width: 100% !important; width: 100% !important; padding: 0 !important; }
            
            .print-page-1 { page-break-after: always; break-after: page; }
            .print-page-2 { page-break-after: always; break-after: page; }

            .radar-box, .radar-box-large { 
                height: auto !important; 
                width: 85% !important;
                margin: 0 auto !important;
                aspect-ratio: 1 / 1 !important;
                display: block !important;
            }

            .card { 
                border: 1px solid #e2e8f0 !important; 
                box-shadow: none !important; 
                padding: 40px !important; 
                margin-bottom: 2rem !important;
                break-inside: avoid;
            }

            canvas { max-width: 100% !important; max-height: 100% !important; margin: 0 auto !important; }

            @page { margin: 1.5cm; size: A4 portrait; }
        }
        .print-only { display: none; }
        @media print { .print-only { display: block; } }
    </style>
</head>
<body class="bg-[#fcfdfe] text-slate-800 antialiased">

    <div id="app-content" class="max-w-7xl mx-auto p-6 md:p-12">
        <header class="mb-10 flex flex-col md:flex-row md:items-center justify-between gap-6 border-b-2 border-slate-900 pb-10">
            <div>
                <h1 class="text-4xl font-extrabold text-slate-900 tracking-tight uppercase">DEVOPS MATURITY QUICK ASSESSMET</h1>
                <p class="text-slate-400 text-sm font-medium tracking-widest mt-1 uppercase">Strategic Benchmarking Tool • V3.8</p>
            </div>
            <div class="flex items-center gap-6 bg-white p-5 rounded-2xl border border-slate-200 shadow-sm">
                <div class="text-right border-r border-slate-100 pr-5">
                    <span class="block text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1">Maturity Index</span>
                    <span class="text-xs font-semibold text-blue-600">Weighted Result</span>
                </div>
                <span id="global-score-display" class="text-5xl font-light text-slate-900 leading-none">0.00</span>
            </div>
        </header>

        <div class="mb-12 no-print">
            <div class="flex justify-between items-end mb-3 text-[11px] font-bold uppercase tracking-[0.2em] text-slate-500">
                <span>Assessment Completion</span>
                <span id="progress-text" class="text-blue-600">0 / 23 COMPLETED</span>
            </div>
            <div class="w-full bg-slate-200 h-2 rounded-full overflow-hidden">
                <div id="progress-bar" class="bg-blue-600 h-full transition-all duration-700 ease-in-out" style="width: 0%"></div>
            </div>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-12 gap-12">
            <div class="lg:col-span-7 no-print">
                <div class="flex bg-slate-100 p-2 rounded-2xl mb-10 space-x-1 border border-slate-200" id="tab-container"></div>
                <div id="questions-container" class="space-y-12"></div>
            </div>

            <div class="lg:col-span-5 space-y-8">
                <div class="bg-white p-8 rounded-3xl border border-slate-200 shadow-sm card print-page-1">
                    <h3 class="text-[11px] font-black text-center mb-8 uppercase tracking-[0.3em] text-slate-400 border-b pb-4">Dimensions Overview</h3>
                    <div class="radar-box"><canvas id="catChart"></canvas></div>
                </div>
                
                <div class="bg-white p-8 rounded-3xl border border-slate-200 shadow-sm card print-page-2">
                    <h3 class="text-[11px] font-black text-center mb-8 uppercase tracking-[0.3em] text-slate-400 border-b pb-4">Capability Deep-Dive</h3>
                    <div class="radar-box-large"><canvas id="capChart"></canvas></div>
                    <button id="export-btn" disabled class="w-full mt-10 py-6 rounded-2xl font-bold text-[12px] tracking-widest uppercase transition-all duration-300 no-print bg-slate-100 text-slate-400 cursor-not-allowed border-2 border-dashed border-slate-200">
                        Complete all categories to export
                    </button>
                </div>
            </div>
        </div>

        <div class="mt-16 pt-12 border-t border-slate-200 print-only">
            <h2 class="text-xl font-extrabold mb-10 text-slate-900 text-center uppercase tracking-widest">Assessment Audit Trail</h2>
            <div id="print-details"></div>
        </div>
    </div>

    <script>
        "use strict";

        const DATA = {
            categories: [{ id: 'Technical', weight: 0.45 }, { id: 'Process', weight: 0.35 }, { id: 'Cultural', weight: 0.20 }],
            capabilities: [
                { id: 1, catId: 'Technical', weight: 1.0, name: 'Version control', levels: ["Only app code is in Git; configs are local or on servers.", "Code and environment configs in Git; secrets are often plaintext.", "Infrastructure as Code (IaC) for all environments; secrets in a vault.", "Everything-as-Code; the repo is the sole source of truth for all environments."] },
                { id: 2, catId: 'Technical', weight: 1.2, name: 'Trunk-based development', levels: ["Branches live >1 week; merge conflicts are frequent.", "Branches live 3-5 days; code reviews are manual bottlenecks.", "Branches live <24 hours; daily merges to the main branch.", "Pure Trunk; all devs work on main; feature flags decouple code from release."] },
                { id: 3, catId: 'Technical', weight: 1.0, name: 'Continuous integration', levels: ["Manual builds or infrequent \"nightly\" builds.", "Auto-build on commit; unit tests are minimal or bypassed.", "Full auto-test suite; feedback provided in <15 mins.", "Extreme CI; CI failure blocks all merges; master is always green."] },
                { id: 4, catId: 'Technical', weight: 1.0, name: 'Test automation', levels: ["Almost entirely manual regression testing.", "Some auto-tests exist, but failures are frequent and handled manually.", "Test pyramid (Unit/API/UI) is implemented; tests gate the pipeline.", "Continuous Testing; no \"manual sign-off\" required for production release."] },
                { id: 5, catId: 'Technical', weight: 0.8, name: 'Test data management', levels: ["Manual data entry; static, stale database snapshots.", "Scripted data export exists, but no masking for sensitive data.", "Data-on-Demand; masked, versioned test datasets available via API.", "Self-Service; fresh, masked data is auto-provisioned in the pipeline."] },
                { id: 6, catId: 'Technical', weight: 1.2, name: 'Deployment automation', levels: ["Manual deployments; reliance on checklists.", "Scripted deployments, but require manual triggers for each environment.", "Fully automated; no human logs into production for deployment.", "Zero-Touch; Canary/Blue-Green with auto-rollback based on health SLIs."] },
                { id: 7, catId: 'Technical', weight: 0.8, name: 'Database change management', levels: ["DBA manually executes SQL; no versioning or history.", "SQL in Git, but DBA manually executes via a ticket system.", "Automated migrations (schema-as-code) versioned with app code.", "Schema Decoupling; DB changes are backward compatible; auto-rollbacks."] },
                { id: 8, catId: 'Technical', weight: 1.0, name: 'Continuous delivery', levels: ["Release depends on manual \"war rooms\" and big-bang merges.", "Predictable but infrequent releases; manual handoffs.", "Release is a push-button, non-event business decision.", "Always Deployable; code is ready for production at every commit."] },
                { id: 9, catId: 'Technical', weight: 1.0, name: 'Shifting left on security', levels: ["Security is a final gate; audit happens once a year.", "Pipeline has scans for reporting, but they do not block releases.", "Security gates auto-block high-risk vulnerabilities in CI.", "Sec-as-Code; automated SBOM and runtime security enforcement."] },
                { id: 10, catId: 'Technical', weight: 0.9, name: 'Monitoring and observability', levels: ["Basic resource alerts only (CPU/RAM); box-hopping.", "Log aggregation with threshold alerts; monitoring is siloed.", "Metrics, Logs, and Tracing are linked for root-cause analysis.", "Predictive Obs; monitoring predicts failures and suggests root causes."] },
                { id: 11, catId: 'Technical', weight: 0.8, name: 'Flexible infrastructure', levels: ["Provisioning requires a ticket and takes days/weeks.", "Cloud/VMs/Containers used, but provisioning is semi-manual/ticket-based.", "Self-Service; developers provision environments via API/IaC.", "Elastic; automatic right-sizing and dynamic scaling."] },
                { id: 12, catId: 'Technical', weight: 0.9, name: 'Loosely coupled architecture', levels: ["Monolith; one change requires a full system reboot.", "Service-oriented but shares a single database.", "Microservices implemented; contract testing ensures independence.", "Independent Release; teams deploy without cross-team sync."] },
                { id: 13, catId: 'Process', weight: 1.0, name: 'Working in small batches', levels: ["Monthly/Quarterly cycles; big-bang feature sets.", "Bi-weekly sprints; releases include many features.", "Features split into <3 days of work; weekly releases.", "Atomic Flow; requirements split into <1 day of work; daily releases."] },
                { id: 14, catId: 'Process', weight: 1.0, name: 'Visibility of work', levels: ["Progress is hidden in emails or individual updates.", "Shared boards used for Dev, but Ops/Infra work is hidden.", "End-to-End transparency from \"Idea\" to \"Live\" on one board.", "Real-time VSM; automatic identification of wait-times and bottlenecks."] },
                { id: 15, catId: 'Process', weight: 0.8, name: 'Visual management', levels: ["No boards or outdated whiteboards.", "Boards exist but are not updated in real-time.", "Automated dashboards showing WIP, Lead Time, and Quality.", "Actionable Viz; dashboards show anomalies and auto-trigger alerts."] },
                { id: 16, catId: 'Process', weight: 1.0, name: 'WIP limits', levels: ["High context switching (3-5 tasks per person).", "\"Resource utilization\" is the goal; everyone is 100% busy.", "Strict WIP limits enforced; focus is on \"Stop starting, start finishing\".", "Pull-based; WIP limits are dynamically adjusted based on flow."] },
                { id: 17, catId: 'Process', weight: 1.2, name: 'Change approval', levels: ["Every change requires a Change Advisory Board (CAB) meeting.", "Standard changes fast-tracked; others take days for approval.", "Peer review and automated gates are the primary approval method.", "Zero-Meeting Approval; fully automated based on quality scores."] },
                { id: 18, catId: 'Process', weight: 1.0, name: 'Customer feedback', levels: ["Feedback is gathered every few months via formal surveys.", "Monthly analysis of customer support tickets or usage data.", "A/B testing and usage data drive the next sprint's priority.", "Live Experimentation; real-time user behavior auto-adjusts UX/UI."] },
                { id: 19, catId: 'Process', weight: 1.0, name: 'Team experimentation', levels: ["Developers are told exactly what to build and how.", "Teams suggest tools but need several levels of approval.", "Teams solve problems autonomously and pick their own tools.", "Learning Org; failure is investment; teams pivot fast."] },
                { id: 20, catId: 'Process', weight: 0.9, name: 'Biz-driven monitoring', levels: ["Tech alerts only (CPU/RAM); business data in separate silos.", "Business data analyzed monthly; not linked to technical metrics.", "Business KPIs (Revenue/Conversion) are part of tech dashboards.", "Business SLOs; if conversion drops, an engineer gets paged."] },
                { id: 21, catId: 'Process', weight: 0.9, name: 'Failure notification', levels: ["Customers find bugs first via the support line.", "Threshold alerts exist but fire too often (alert fatigue).", "Alerts fire based on SLIs before users notice degradation.", "Predictive Healing; monitoring triggers auto-scaling or failover."] },
                { id: 22, catId: 'Cultural', weight: 1.0, name: 'Generative culture', levels: ["Pathological: Power-oriented; messengers are shot.", "Bureaucratic: Rule-oriented; \"Not my job\" mentality.", "Performance: Performance-oriented; high trust; no-blame.", "Generative: Mission-driven; radical transparency; high trust."] },
                { id: 23, catId: 'Cultural', weight: 1.0, name: 'Learning culture', levels: ["Training is seen as a cost/burden; no time for learning.", "Training budget exists but is rarely used or protected.", "Regular tech-talk talk; 10% time dedicated to learning/spikes.", "Knowledge Obsessed; learning is the default mode of work."] }
            ]
        };

        let state = { currentTab: 'Technical', scores: {}, charts: {} };

        function initApp() {
            renderTabs();
            renderQuestions();
            setTimeout(initCharts, 200);
            document.getElementById('export-btn').onclick = () => window.print();
        }

        function renderTabs() {
            const container = document.getElementById('tab-container');
            container.innerHTML = DATA.categories.map(cat => `
                <button onclick="switchTab('${cat.id}')" 
                    class="flex-1 py-4 rounded-xl font-bold text-[12px] tracking-widest uppercase transition-all ${state.currentTab === cat.id ? 'bg-white text-blue-600 shadow-md' : 'text-slate-500 hover:text-slate-700'}">
                    ${cat.id}
                </button>
            `).join('');
        }

        function switchTab(id) { state.currentTab = id; renderTabs(); renderQuestions(); }

        function renderQuestions() {
            const container = document.getElementById('questions-container');
            const items = DATA.capabilities.filter(c => c.catId === state.currentTab);
            container.innerHTML = items.map(cap => `
                <div class="bg-white p-10 rounded-3xl border border-slate-200 shadow-sm transition-all hover:shadow-md">
                    <h3 class="text-xl font-bold text-slate-800 mb-8 flex items-center">
                        <span class="w-8 h-8 bg-slate-900 text-white rounded-lg flex items-center justify-center mr-4 text-xs font-mono">${cap.id}</span>
                        ${cap.name}
                    </h3>
                    <div class="grid grid-cols-1 gap-4">
                        ${cap.levels.map((lvl, i) => {
                            const active = state.scores[cap.id] === (i + 1);
                            return `
                                <div onclick="handleSelect(${cap.id}, ${i + 1})" class="option-card p-6 rounded-2xl ${active ? 'selected' : 'bg-slate-50'}">
                                    <div class="flex justify-between items-center mb-3">
                                        <span class="text-[11px] font-bold uppercase tracking-wider ${active ? 'text-blue-600' : 'text-slate-400'}">Level ${i+1}</span>
                                        ${active ? '<span class="text-blue-600 font-bold bg-blue-100 px-3 py-1 rounded-full text-xs">SELECTED ✓</span>' : ''}
                                    </div>
                                    <div class="text-[14px] leading-relaxed ${active ? 'text-blue-900 font-semibold' : 'text-slate-600 font-medium'}">${lvl}</div>
                                </div>`;
                        }).join('')}
                    </div>
                </div>`).join('');
        }

        function handleSelect(id, score) { state.scores[id] = score; renderQuestions(); updateDashboard(); }

        function updateDashboard() {
            const stats = calculateResults();
            const answered = Object.keys(state.scores).length;
            const total = DATA.capabilities.length;

            document.getElementById('global-score-display').innerText = stats.global;
            document.getElementById('progress-bar').style.width = (answered/total*100) + '%';
            document.getElementById('progress-text').innerText = `${answered} / ${total} COMPLETED`;

            if (answered === total) {
                const btn = document.getElementById('export-btn');
                btn.disabled = false;
                btn.innerText = 'DOWNLOAD ASSESSMENT PDF';
                btn.className = "w-full mt-10 py-6 rounded-2xl font-bold text-[13px] tracking-widest uppercase transition-all no-print bg-blue-600 text-white shadow-xl cursor-pointer hover:bg-blue-700 active:scale-[0.98]";
            }

            state.charts.cat.data.datasets[0].data = DATA.categories.map(c => stats.catScores[c.id]);
            state.charts.cat.update();
            state.charts.cap.data.datasets[0].data = DATA.capabilities.map(c => state.scores[c.id] || 0);
            state.charts.cap.update();
            renderPrintDetails();
        }

        function calculateResults() {
            const catScores = {};
            DATA.categories.forEach(cat => {
                const caps = DATA.capabilities.filter(c => c.catId === cat.id);
                let wSum = 0, wTotal = 0;
                caps.forEach(c => {
                    const s = state.scores[c.id] || 0;
                    if (s > 0) { wSum += s * c.weight; wTotal += c.weight; }
                });
                catScores[cat.id] = wTotal > 0 ? (wSum / wTotal).toFixed(2) : 0;
            });
            let fSum = 0, fW = 0;
            DATA.categories.forEach(cat => {
                const s = parseFloat(catScores[cat.id]);
                if (s > 0) { fSum += s * cat.weight; fW += cat.weight; }
            });
            return { catScores, global: fW > 0 ? (fSum / fW).toFixed(2) : "0.00" };
        }

        function initCharts() {
            const commonConfig = {
                responsive: true,
                maintainAspectRatio: true,
                plugins: { legend: { display: false } },
                scales: {
                    r: {
                        min: 0, max: 4,
                        ticks: { display: false, stepSize: 1 },
                        grid: { color: '#f1f5f9' },
                        pointLabels: { 
                            font: { family: 'Inter', size: 12, weight: '600' }, 
                            color: '#64748b',
                            padding: 20
                        }
                    }
                }
            };

            state.charts.cat = new Chart(document.getElementById('catChart'), {
                type: 'radar',
                data: { labels: DATA.categories.map(c => c.id), datasets: [{ data: [0,0,0], backgroundColor: 'rgba(37, 99, 235, 0.05)', borderColor: '#2563eb', borderWidth: 2 }] },
                options: commonConfig
            });

            state.charts.cap = new Chart(document.getElementById('capChart'), {
                type: 'radar',
                data: { labels: DATA.capabilities.map(c => c.name), datasets: [{ data: Array(23).fill(0), backgroundColor: 'rgba(37, 99, 235, 0.08)', borderColor: '#2563eb', borderWidth: 2 }] },
                options: { ...commonConfig, scales: { r: { ...commonConfig.scales.r, pointLabels: { font: { size: 10 }, padding: 15 } } } }
            });
        }

        function renderPrintDetails() {
            const container = document.getElementById('print-details');
            container.innerHTML = DATA.capabilities.map(cap => `
                <div class="p-6 border-2 border-slate-100 rounded-3xl break-inside-avoid mb-4 bg-white shadow-sm">
                    <div class="flex justify-between items-center mb-3 border-b border-slate-50 pb-2">
                        <span class="text-xs font-extrabold uppercase text-slate-900">${cap.name}</span>
                        <span class="text-xs font-bold text-blue-600 bg-blue-50 px-3 py-1 rounded-full">Level ${state.scores[cap.id] || 0}</span>
                    </div>
                    <div class="text-[11px] text-slate-500 font-medium leading-relaxed italic">${state.scores[cap.id] ? cap.levels[state.scores[cap.id]-1] : 'NOT ASSESSED'}</div>
                </div>`).join('');
        }
        window.onload = initApp;
    </script>
</body>
</html>